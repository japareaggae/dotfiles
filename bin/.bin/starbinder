#!/bin/sh
# Written by Renan Guilherme <japareaggae@gmail.com>
# Licensed under the Unlicense (http://unlicense.org/UNLICENSE)

# This is where you store your backups.
REMOTE="$HOME/Dropbox/Vidya/Starbound/player"

case $(uname -m) in
	"x86_64") ARCH="linux64" ;;
	"i686") ARCH="linux32" ;;
esac
# This is where Starbound stores it's player data.
LOCAL="$HOME/.local/share/Steam/SteamApps/common/Starbound/$ARCH/player"

_usage(){
cat << EOF
Usage: $(basename $0) (import | export)

Synchronizes Starbound player data between two folders using rsync.
This script is not affiliated with Chucklefish.

  import     Copies from REMOTE into LOCAL.
  export     Copies from LOCAL into REMOTE.

Remote: $REMOTE
Local:  $LOCAL
EOF
}

if [ ! $(which rsync) ]; then
	echo "E: You need to install rsync before using starbinder"
	exit 1
fi

case $1 in
	export) rsync -avzu $LOCAL/ $REMOTE;;
	import) rsync -avzu $REMOTE/ $LOCAL;;
	*) _usage;;
esac

