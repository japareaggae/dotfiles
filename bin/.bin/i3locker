#!/bin/bash
# Written by Renan Guilherme <japareaggae@gmail.com>
# Based on Pato Lankenau's script <http://plankenau.com/blog/post-10/gaussianlock>
# Released under the public domain <http://unlicense.org/UNLICENSE>

hash maim 2>/dev/null    || { echo "Error: maim is not installed."; exit 1; }
hash convert 2>/dev/null || { echo "Warning: imagemagick is not installed. Will continue without blur."; }

FILE="/tmp/screen.png"

maim $FILE
xset dpms force standby
convert $FILE -blur 0x4 $FILE
i3lock -i $FILE
rm $FILE
