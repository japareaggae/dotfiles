#!/bin/bash
# screenshot - A wrapper for maim
# Written by Renan Guilherme <japareaggae@gmail.com>
# Released under the public domain <http://unlicense.org/UNLICENSE>

# Using pure maim commands on i3/config does not work for some reason,
# so I wrote this.

FOLDER="$HOME/.screenshots"
FILENAME="$(date +%F_%H-%M-%S).png"

if (pidof compton > /dev/null); then
	SLOPOPTS="-l -c 0.5,0.5,0.5,0.5"
else
	SLOPOPTS="-b 2"
fi

CHOICE="$(printf "full\nwindow\narea\n" | dmenu -p 'Screenshot')"

case $CHOICE in
	full)   maim --hidecursor "$FOLDER/$FILENAME" ;;
	window) maim -s $SLOPOPTS --hidecursor "$FOLDER/$FILENAME" ;;
	area)   maim -s $SLOPOPTS -t 0 --hidecursor "$FOLDER/$FILENAME" ;;
esac


