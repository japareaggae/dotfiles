#!/bin/sh
# ponymix-conky - PulseAudio volume status for conky using ponymix
# Written by Renan Guilherme <japareaggae@gmail.com>
# Released under the public domain <http://unlicense.org/UNLICENSE>

if ! ( which ponymix > /dev/null )
then
	echo "?"
	exit 1
fi

DEVICE=$(ponymix | sed -n '2p' -)
case $DEVICE in
		*"Headset"*) DEFSINK="Headset";;
		*"HDMI"*) DEFSINK="HDMI";;
		*"Analog"*) DEFSINK="Analog";;
		*) DEFSINK="Unknown";;
esac

if ( ponymix is-muted ); then
	echo "$DEFSINK - $(ponymix get-volume)% (M)"
else
	echo "$DEFSINK - $(ponymix get-volume)%"
fi

