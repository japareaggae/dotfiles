#!/bin/sh
case $(uname -m) in
	"x86_64") ARCH="linux64" ;;
	"i686") ARCH="linux32" ;;
esac

LOCAL="$HOME/.local/share/Steam/SteamApps/common/Starbound/$ARCH/player"
REMOTE="$HOME/Dropbox/Vidya/Starbound/player"

_usage(){
	echo "Usage: $(basename $0) [import/export]"
	echo "  - import: Copy from Dropbox into Starbound"
	echo "  - export: Copy from Starbound into Dropbox"
	echo " "
	echo "Starbound: $LOCAL"
	echo "  Dropbox: $REMOTE"
}

if [ ! -x $(which rsync) ]; then
	echo "Oops: you need to install rsync before using starbinder"
	exit 1
fi

case $1 in
	export) rsync -avzu $LOCAL/ $REMOTE;;
	import) rsync -avzu $REMOTE/ $LOCAL;;
	*) _usage;;
esac

