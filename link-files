#!/bin/sh
# link-files: links dotfiles from a repo into a folder
# Originally written by Michael Smalley, kanged by Renan Guilherme

# --- Where are our dotfiles?
DOTLOC="$HOME/.dotfiles"

# --- Dotfile definitions
# BASICDOTS = Configs for terminal applications
BASICDOTS="zshenv zshrc.local gitconfig vimrc tmux.conf
	bin vim ncmpcpp"

# XDOTS = Configs for graphical applications
XDOTS="conkyrc fehbg Xresources xprofile xinitrc"

# XDG_* = Configs stored in $XDG_CONFIG_HOME ($HOME/.config)
XDG_BASICDOTS="cower ranger htop"

XDG_XDOTS="compton.conf weston.ini
	i3 xcolors dunst feh"

HOMEDOTS="$BASICDOTS $XDOTS"

XDG_ALLDOTS="$XDG_BASICDOTS $XDG_XDOTS"

# --- Link $HOMEDOTS
echo "==> Installing \$HOME folder dotfiles"
for dot in $HOMEDOTS; do
	echo -e "\e[1;31m==>\e[0m $dot: removing old file"
	rm -r "$HOME/.$dot"
	echo -e "\e[1;32m==>\e[0m $dot: linking new file into $HOME"
	ln -sf $DOTLOC/$dot $HOME/.$dot
done

# --- Link $XDG_ALLDOTS
echo "==> Installing \$HOME/.config folder dotfiles"
# Check if config folders exist
[ ! -d "$HOME/.config" ] && mkdir -p "$HOME/.config" || echo "config folder already exists in $HOME"

for dot in $XDG_ALLDOTS; do
	echo -e "\e[1;31m==>\e[0m $dot: removing old file"
	rm -r "$HOME/.config/$dot"
	echo -e "\e[1;32m==>\e[0m $dot: linking new file into $HOME/.config"
	ln -s $DOTLOC/config/$dot $HOME/.config/$dot
done

